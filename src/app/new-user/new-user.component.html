<main>

    <app-header>
        <div class="d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-left-fill dark-gray" viewBox="0 0 16 16">
                <path d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/>
            </svg>
            <a routerLink="/lista-usuarios" class="gray">Volver</a>
        </div>
    </app-header>
    
    <div class="px-md-4 pb-4">
        <form action="" class="themed-container themed-form mx-auto mt-4" [formGroup]="newUserForm" (submit)="newUser()">
            <h1 class="text-center red mb-4">Nuevo Usuario</h1>
    
            <div class="d-flex flex-column flex-md-row gap-md-5">
                <div class="d-flex flex-column w-100 mb-3 mb-md-4">
                    <label for="nombre">Nombre</label>
                    <input type="text" name="" id="nombre" class="" formControlName="nombre" required>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getNombre?.touched && getNombre?.invalid">Campo requerido</p>
                </div>
    
                <div class="d-flex flex-column w-100 mb-3 mb-md-4">
                    <label for="mail">Correo</label>
                    <input type="email" name="email" id="mail" class="" formControlName="correo" required>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getCorreo?.touched && getCorreo?.invalid">Campo requerido</p>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getCorreo?.touched && getCorreo?.errors?.['pattern']">
                        Email no válido
                    </p>
                </div>
            </div>
            
            <div class="d-flex flex-column flex-md-row gap-md-5">
                <div class="d-flex flex-column w-100 mb-3 mb-md-4">
                    <label for="pass">Contraseña</label>
                    <input type="password" name="" id="pass" class="" formControlName="contraseña" required>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getContrasena?.touched && getContrasena?.invalid">Campo requerido</p>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getContrasena?.touched && getContrasena?.errors?.['minlength']">
                        Mínimo de 6 dígitos
                    </p>
                </div>
    
                <div class="d-flex flex-column w-100 mb-3 mb-md-4">
                    <label for="pass2">Confirmar Contraseña</label>
                    <input type="password" name="" id="pass2" class="" formControlName="confirmar" required>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getConfirmar?.touched && getConfirmar?.invalid">Campo requerido</p>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="f['confirmar'].getError('MustMatch') != null">
                        La contraseña no coincide
                    </p>
                </div>
            </div>
            
            <div class="d-flex flex-column flex-md-row gap-md-5">
                <div class="d-flex flex-column w-100 mb-3 mb-md-4">
                    <label for="tienda">Tienda</label>
    
                    <select class="select" id="tienda" formControlName="tienda" required>
                        <option value=""></option>
                        <option value="1">Tienda 1</option>
                        <option value="2">Tienda 2</option>
                        <option value="3">Tienda 3</option>
                        <option value="4">Tienda 4</option>
                    </select>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getTienda?.touched && getTienda?.invalid">
                        Porfavor seleccione una tienda
                    </p>
                </div>
    
                <div class="d-flex flex-column w-100 mb-3 mb-md-4">
                    <label for="puesto">Puesto</label>
                    
                    <select class="select" id="puesto" formControlName="puesto" required>
                        <option value=""></option>
                        <option value="1">Gerente</option>
                        <option value="2">Encargado</option>
                    </select>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getPuesto?.touched && getPuesto?.invalid">
                        Porfavor seleccione un puesto
                    </p>
                </div>
            </div>

            <div class="d-flex flex-column flex-md-row gap-md-5 one-input-column">
                <div class="d-flex flex-column w-100 mb-3 mb-md-4 me-half-rem">
                    <label for="tipo-usuario">Tipo de usuario</label>
    
                    <select class="select" id="tipo-usuario" formControlName="tipoUsuario" required>
                        <option value=""></option>
                        <option value="Normal">Normal</option>
                        <option value="Administrador">Administrador</option>
                    </select>
                    <p class="text-danger text-center mb-0 font-small" *ngIf="getTipoUsuario?.touched && getTipoUsuario?.invalid">
                        Porfavor seleccione un tipo de usuario
                    </p>
                </div>
            </div>
    
            <div class="d-flex gap-5 justify-content-end mt-5">
                <a routerLink="/lista-usuarios">
                    <button class="cancel-btn">Cancelar</button>
                </a>
                <button type="submit" class="action-btn" [disabled]="newUserForm.invalid">Crear</button>
            </div>
        </form>
    </div>

</main>
